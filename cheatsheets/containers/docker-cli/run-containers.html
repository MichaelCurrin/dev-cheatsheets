<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">



    <meta property="og:site_name" content="Dev Cheatsheets" />

    <title>Run containers | Dev Cheatsheets</title>

    <meta property="og:title" content="Run containers" />

    <meta name="twitter:card" content="summary" />
    <meta property="twitter:title" content="Run containers" />
<meta name="generator" content="Jekyll v4.2.1" />

<meta property="og:locale" content="en_US" />


    <meta name="description" content="A collection of code snippets and CLI guides for quick and easy reference while coding" />
    <meta property="og:description" content="A collection of code snippets and CLI guides for quick and easy reference while coding" />
<meta name="author" content="Michael Currin" />



<link rel="canonical" href="https://michaelcurrin.github.io/dev-cheatsheets/cheatsheets/containers/docker-cli/run-containers.html" />
<meta property="og:url" content="https://michaelcurrin.github.io/dev-cheatsheets/cheatsheets/containers/docker-cli/run-containers.html" />


<script type="application/ld+json">
{
    "name":        "Dev Cheatsheets",
    "description": "A collection of code snippets and CLI guides for quick and easy reference while coding",
    "url":         "https://michaelcurrin.github.io/dev-cheatsheets/cheatsheets/containers/docker-cli/run-containers.html",
    "headline":    "Run containers",
    "@type":       "WebSite",
    "@context":    "https://schema.org",
    "author": {
        "@type":"Person",
        "name": "Michael Currin"
    }
}
</script>
<link rel="stylesheet" href="/dev-cheatsheets/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://michaelcurrin.github.io/dev-cheatsheets/feed.xml" title="Dev Cheatsheets" /><script async src="https://www.googletagmanager.com/gtag/js?id=UA-87705880-12"></script>
    <script>
        window['ga-disable-UA-87705880-12'] = window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1";
        window.dataLayer = window.dataLayer || [];

        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-87705880-12');
    </script></head>
<body>
<header class="site-header" role="banner">

    <div class="wrapper"><a class="site-title" rel="author" href="/dev-cheatsheets/">
            Dev Cheatsheets
        </a><nav class="site-nav">
                <input type="checkbox" id="nav-trigger" class="nav-trigger" />

                <label for="nav-trigger">
                    <span class="menu-icon">
                        <svg viewBox="0 0 18 15" width="18px" height="15px">
                            <path
                                d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z" />
                        </svg>
                    </span>
                </label>

                <div class="trigger"><a class="page-link" href="/dev-cheatsheets/">
                                Home
                            </a><a class="page-link" href="/dev-cheatsheets/cheatsheets/">
                                Cheatsheets
                            </a><a class="page-link" href="/dev-cheatsheets/about.html">
                                About
                            </a></div>
            </nav></div>
</header>
<main class="page-content" aria-label="Content">
        <div class="wrapper">
            <a id="github-edit" href="https://github.com/MichaelCurrin/dev-cheatsheets/edit/master/cheatsheets/containers/docker-cli/run-containers.md">
    üìù <span>Edit page</span>
</a>

            <a id="github-add" href="https://github.com/MichaelCurrin/dev-cheatsheets/new/master/cheatsheets/containers/docker-cli/">
    ‚ûï <span>Add page</span>
</a>


            

<article class="post">
    <header class="post-header">
        <h1 class="post-title">
            


            <span>Run containers</span>
        </h1>

        
    </header>

    


    <div id="breadcrumbs">

    
        

        
            
            <a href="/dev-cheatsheets/cheatsheets/">
    Cheatsheets
</a>

        
     
        
            /
        

        
            
            <a href="/dev-cheatsheets/cheatsheets/containers/">
    Containers
</a>

        
     
        
            /
        

        
            
            <a href="/dev-cheatsheets/cheatsheets/containers/docker-cli/">
    Docker CLI
</a>

        
     
        
            /
        

        
            <a href="/dev-cheatsheets/cheatsheets/containers/docker-cli/run-containers.html" class="underline">
                Run containers
            </a>
        
     
    </div>



    <br>

    <div class="post-content">
        
            <blockquote>
  <p>How to use <code class="language-plaintext highlighter-rouge">run</code>, <code class="language-plaintext highlighter-rouge">start</code> and <code class="language-plaintext highlighter-rouge">exec</code> subcommands against a container</p>
</blockquote>

<h2 id="links">Links</h2>

<ul>
  <li>Docker CLI reference:
    <ul>
      <li><a href="https://docs.docker.com/engine/reference/run/">run</a></li>
      <li><a href="https://docs.docker.com/engine/reference/commandline/exec/">exec</a>
        <blockquote>
          <p>The <code class="language-plaintext highlighter-rouge">docker exec</code> command runs a new command in a running container.</p>
        </blockquote>
      </li>
    </ul>
  </li>
  <li><a href="https://chankongching.wordpress.com/2017/03/17/docker-what-is-the-different-between-run-and-exec/">What is the different between ‚Äúrun‚Äù and ‚Äúexec‚Äù</a></li>
</ul>

<h2 id="overview">Overview</h2>

<ul>
  <li>Start an existing container.
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nv">$ </span>docker start my-app
</code></pre></div>    </div>
  </li>
  <li>Access the container‚Äôs system.
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nv">$ </span>docker <span class="nb">exec</span> <span class="nt">-it</span> my-app bash
</code></pre></div>    </div>
  </li>
  <li>Run a container. Use <code class="language-plaintext highlighter-rouge">--rm</code> to delete it.
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nv">$ </span>docker run <span class="se">\</span>
      <span class="nt">--rm</span> <span class="se">\</span>
      <span class="nt">--name</span> my-app <span class="se">\</span>
      <span class="nt">-p</span> 3000:3000 <span class="se">\</span>
      <span class="nt">-d</span> <span class="se">\</span>
      <span class="nt">--init</span> <span class="se">\</span>
      my-node-img
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="run-in-new-container">Run in new container</h2>

<p>Run a command in a <strong>new</strong> container. The container will then stop when it is finished, unless it continues to run like for a server.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker run IMAGE
<span class="nv">$ </span>docker run IMAGE COMMAND
</code></pre></div></div>

<p>The container will get a different random name on each run and you‚Äôll end up with a lot of containers unless you use <code class="language-plaintext highlighter-rouge">rm</code> to delete it each time.</p>

<p>e.g.</p>

<p>This will do nothing and then exit.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker run python:3.9
</code></pre></div></div>

<p>Use default entry-point (in this case Python terminal) and use interactive mode.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker run <span class="nt">-it</span> <span class="nt">-rm</span> python:3.9
</code></pre></div></div>

<p>Specify shell as entry-point and interactive mode.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker run <span class="nt">-it</span> <span class="nt">-rm</span> python:3.9 bash
</code></pre></div></div>

<p>Give the container name if you want. This can be useful if you have long-running container like a server. You‚Äôll want to use the <code class="language-plaintext highlighter-rouge">rm</code> flag otherwise you‚Äôll get an error on the 2nd run that the container name already is used.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker run <span class="nt">-rm</span> <span class="nt">--name</span> CONTAINER_NAME IMAGE
</code></pre></div></div>

<p>e.g.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker run <span class="nt">--rm</span> <span class="se">\</span>
    <span class="nt">--name</span> my-app <span class="se">\</span>
    python:3.9
</code></pre></div></div>

<h2 id="run-in-existing">Run in existing</h2>

<p>Run a command in an <strong>existing</strong> and <strong>running</strong> container, given a tagged name or ID.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker start CONTAINER_NAME
<span class="nv">$ </span>docker <span class="nb">exec </span>CONTAINER_NAME
</code></pre></div></div>

<p>That is useful if you want to tunnel in and use an interactive session with Bash, Python, etc.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker <span class="nb">exec</span> <span class="nt">-it</span> CONTAINER bash
</code></pre></div></div>

<p>If you container exits immediately when it run, you‚Äôll struggle to <code class="language-plaintext highlighter-rouge">exec</code> into it.</p>

<p>So then use <code class="language-plaintext highlighter-rouge">run</code> against a built image. Set a <strong>new</strong> container from a given image, deleting the container when done. Pass a shell entry point.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker run <span class="nt">--rm</span> <span class="nt">-it</span> <span class="se">\</span>
    IMAGE <span class="se">\</span>
    <span class="nt">--entrypoint</span> bash
</code></pre></div></div>

<p>In VS Code, under the Docker extension and ‚ÄúImages‚Äù you can select an image and ‚ÄúRun interactive‚Äù to achieve the same thing. Though, you might start with Node or something else, as you can‚Äôt specify Bash.</p>

<h2 id="interactive">Interactive</h2>

<p>Start an interactive Node console in a target image.</p>

<p>e.g.</p>

<p>Node image, with <code class="language-plaintext highlighter-rouge">node</code> as default entrypoint.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker run <span class="nt">-it</span> node
<span class="o">&gt;</span>
</code></pre></div></div>

<p>Node image, with <code class="language-plaintext highlighter-rouge">bash</code> as custom entrypoint.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker run <span class="nt">-it</span> node bash
<span class="c">#</span>
</code></pre></div></div>

<h2 id="open-ports">Open ports</h2>

<p>Expose and publish ports.</p>

<p>Format:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">--publish EXTERNAL:INTERNAL</code></li>
</ul>

<p>With that flag, that you don‚Äôt need <code class="language-plaintext highlighter-rouge">EXPOSE</code> in the <code class="language-plaintext highlighter-rouge">Dockerfile</code>. Also, using <code class="language-plaintext highlighter-rouge">EXPOSE</code> alone doesn‚Äôt publish.</p>

<p>Example:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker run <span class="nt">--rm</span> <span class="nt">-p</span> 80:8080 node-app
</code></pre></div></div>

<p>The Node app will serve on port <code class="language-plaintext highlighter-rouge">8080</code> and Docker routes that port <code class="language-plaintext highlighter-rouge">80</code> on the host.</p>

<h2 id="start-shell">Start shell</h2>

<p>Start an interactive Bash shell in the container by setting the entrypoint. This overrides whatever value was set in the <code class="language-plaintext highlighter-rouge">Dockerfile</code> for <code class="language-plaintext highlighter-rouge">ENTRYPOINT</code>.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker run <span class="nt">-it</span> my-app bash
</code></pre></div></div>

<p>Or with more verbose <code class="language-plaintext highlighter-rouge">--entrypoint ENTRYPOINT</code> flag.</p>

<p>Note that flags must come <em>before</em> the app name.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker run <span class="nt">-it</span> <span class="nt">--entrypoint</span> bash my-app 
</code></pre></div></div>

<h2 id="avoid">Avoid</h2>

<ul>
  <li>Create - I don‚Äôt think I‚Äôve ever had to run <code class="language-plaintext highlighter-rouge">create</code>.
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nv">$ </span>docker create <span class="nt">--init</span> <span class="se">\</span>
      <span class="nt">--name</span> my-app <span class="se">\</span>
      <span class="nt">-p</span> 3000:3000 <span class="se">\</span>
      my-node-img
</code></pre></div>    </div>
  </li>
  <li>Attach to a container (not recommended).
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nv">$ </span>docker attach my-app
</code></pre></div>    </div>
  </li>
</ul>

        
    </div>
</article>

        </div>
    </main>
<footer class="site-footer h-card">
    <data class="u-url" href="/dev-cheatsheets/"></data>

    <div class="wrapper">

        <h2 class="footer-heading">Dev Cheatsheets</h2>

        <div class="footer-col-wrapper">
            <div class="footer-col footer-col-1">
                <ul class="contact-list"><li class="p-name">
                            Michael Currin
                        </li></ul>
            </div>

            <div class="footer-col footer-col-2">
<ul class="social-media-list"><li>
            <a href="https://github.com/MichaelCurrin"><svg class="svg-icon">
                    <use xlink:href="/dev-cheatsheets/assets/fractal-social-icons.svg#github"></use>
                </svg> <span class="username">MichaelCurrin</span></a>
        </li></ul>
</div>

            <div class="footer-col footer-col-3">
                <p>A collection of code snippets and CLI guides for quick and easy reference while coding</p>
            </div>
        </div>

    </div>

</footer>
<a href="https://github.com/MichaelCurrin/dev-cheatsheets"
    class="github-corner" aria-label="View source on GitHub">
    <svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
    </svg>
</a>
<style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

</body>

</html>
