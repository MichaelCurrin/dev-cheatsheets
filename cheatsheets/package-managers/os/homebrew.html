<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">



    <meta property="og:site_name" content="Dev Cheatsheets" />

    <title>Homebrew | Dev Cheatsheets</title>

    <meta property="og:title" content="Homebrew" />

    <meta name="twitter:card" content="summary" />
    <meta property="twitter:title" content="Homebrew" />
<meta name="generator" content="Jekyll v4.3.3" />

<meta property="og:locale" content="en_US" />


    <meta name="description" content="A commonly-used macOS package manager" />
    <meta property="og:description" content="A commonly-used macOS package manager" />
<meta name="author" content="Michael Currin" />



<link rel="canonical" href="https://michaelcurrin.github.io/dev-cheatsheets/cheatsheets/package-managers/os/homebrew.html" />
<meta property="og:url" content="https://michaelcurrin.github.io/dev-cheatsheets/cheatsheets/package-managers/os/homebrew.html" />


<script type="application/ld+json">
{
    "name":        "Dev Cheatsheets",
    "description": "A commonly-used macOS package manager",
    "url":         "https://michaelcurrin.github.io/dev-cheatsheets/cheatsheets/package-managers/os/homebrew.html",
    "headline":    "Homebrew",
    "@type":       "WebSite",
    "@context":    "https://schema.org",
    "author": {
        "@type":"Person",
        "name": "Michael Currin"
    }
}
</script>
<link rel="stylesheet" href="/dev-cheatsheets/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://michaelcurrin.github.io/dev-cheatsheets/feed.xml" title="Dev Cheatsheets" /><script async src="https://www.googletagmanager.com/gtag/js?id=UA-87705880-12"></script>
    <script>
        window['ga-disable-UA-87705880-12'] = window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1";
        window.dataLayer = window.dataLayer || [];

        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-87705880-12');
    </script></head>
<body>
<header class="site-header" role="banner">

    <div class="wrapper"><a class="site-title" rel="author" href="/dev-cheatsheets/">
            Dev Cheatsheets
        </a><nav class="site-nav">
                <input type="checkbox" id="nav-trigger" class="nav-trigger" />

                <label for="nav-trigger">
                    <span class="menu-icon">
                        <svg viewBox="0 0 18 15" width="18px" height="15px">
                            <path
                                d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z" />
                        </svg>
                    </span>
                </label>

                <div class="trigger"><a class="page-link" href="/dev-cheatsheets/">
                                Home
                            </a><a class="page-link" href="/dev-cheatsheets/cheatsheets/">
                                Cheatsheets
                            </a><a class="page-link" href="/dev-cheatsheets/about.html">
                                About
                            </a></div>
            </nav></div>
</header>
<main class="page-content" aria-label="Content">
        <div class="wrapper">
            <a id="github-edit" href="https://github.com/MichaelCurrin/dev-cheatsheets/edit/master/cheatsheets/package-managers/os/homebrew.md">
    üìù <span>Edit page</span>
</a>

            <a id="github-add" href="https://github.com/MichaelCurrin/dev-cheatsheets/new/master/cheatsheets/package-managers/os/">
    ‚ûï <span>Add page</span>
</a>


            

<article class="post">
    <header class="post-header">
        <h1 class="post-title">
            


            <span>Homebrew</span>
        </h1>

        
            <blockquote>
                <p>A commonly-used macOS package manager</p>

            </blockquote>
        
    </header>

    


    <div id="breadcrumbs">

    
        

        
            
            <a href="/dev-cheatsheets/cheatsheets/">
    Cheatsheets
</a>

        
     
        
            /
        

        
            
            <a href="/dev-cheatsheets/cheatsheets/package-managers/">
    Package managers
</a>

        
     
        
            /
        

        
            
            <a href="/dev-cheatsheets/cheatsheets/package-managers/os/">
    OS level
</a>

        
     
        
            /
        

        
            <a href="/dev-cheatsheets/cheatsheets/package-managers/os/homebrew.html" class="underline">
                Homebrew
            </a>
        
     
    </div>



    <br>

    <div class="post-content">
        
            <h2 id="resources">Resources</h2>

<ul>
  <li><a href="https://devhints.io/homebrew">Homebrew Cheatsheet</a> on <em>DevHints</em>.</li>
  <li><a href="https://docs.brew.sh/">Homebrew docs</a> homepage</li>
  <li><a href="https://docs.brew.sh/Tips-N%27-Tricks">Homebrew Tips N‚Äô Tricks</a> in the docs</li>
</ul>

<h2 id="install-homebrew">Install Homebrew</h2>

<p>See the <a href="https://brew.sh">brew.sh</a> homepage.</p>

<p>This will request your password as it needs <em>root</em> permissions.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>/bin/bash <span class="nt">-c</span> <span class="s2">"</span><span class="si">$(</span>curl <span class="nt">-fsSL</span> https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh<span class="si">)</span><span class="s2">"</span>
</code></pre></div></div>

<p>See <a href="https://github.com/Homebrew/install/blob/master/install.sh">install.sh</a> on GitHub.</p>

<p>If upgrading Homebrew, it is recommended to then <a href="#upgrade-all-packages">upgrade all packages</a>.</p>

<h2 id="update-list">Update list</h2>

<p>Update Homebrew‚Äôs local list of packages.</p>

<p>This does <em>not</em> actually update packages. Note you probably <em>don‚Äôt</em> need to use this, since an update is done before commands like install.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>brew update
</code></pre></div></div>

<h2 id="install-packages">Install packages</h2>

<p>If a package is <em>already</em> installed and you install it again, you‚Äôll get an error message telling you to upgrade it instead.</p>

<h3 id="install-selected-package">Install selected package</h3>

<p>Install a specific package by its formula.</p>

<p><em>Note: Unlike <code class="language-plaintext highlighter-rouge">apt</code>, the <code class="language-plaintext highlighter-rouge">update</code> command is done internally to get the latest remote info - <a href="https://github.com/Homebrew/brew/issues/1670">#1670</a>.</em></p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>brew <span class="nb">install </span>PACKAGE
<span class="nv">$ </span>brew <span class="nb">install </span>PACKAGE@VERSION
</code></pre></div></div>
<p>e.g.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>brew <span class="nb">install </span>gcc@7 python@3.9
</code></pre></div></div>

<p><strong>Warning</strong>: The default behavior is for the <code class="language-plaintext highlighter-rouge">install</code> command to automatically <strong>upgrade all installed packages</strong>. This has caused issues for me where Python environments broke when upgrading something unrelated to Python.</p>

<p>Install without auto-upgrade - from <a href="https://computingforgeeks.com/prevent-homebrew-auto-update-on-macos/">article</a>.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ HOMEBREW_NO_AUTO_UPDATE</span><span class="o">=</span>1 brew <span class="nb">install </span>PACKAGE
</code></pre></div></div>

<p>Or set once-off in <code class="language-plaintext highlighter-rouge">.bashrc</code> or <code class="language-plaintext highlighter-rouge">.zshrc</code> so it is always set.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">HOMEBREW_NO_AUTO_UPDATE</span><span class="o">=</span>1
</code></pre></div></div>

<h3 id="install-a-cask">Install a cask</h3>

<p>See also <a href="https://formulae.brew.sh/cask/">Homebrew casks</a>.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>brew cask <span class="nb">install </span>CASK_NAME
</code></pre></div></div>

<h2 id="upgrade-packages">Upgrade packages</h2>

<h3 id="outdated">Outdated</h3>

<p>List outdated packages - including current and latest versions.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>brew outdated
</code></pre></div></div>

<h3 id="upgrade-selected-package">Upgrade selected package</h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>brew upgrade PACKAGE
</code></pre></div></div>

<p>Warning: This will also upgrade dependents.</p>

<p>e.g. Upgrading <code class="language-plaintext highlighter-rouge">shfmt</code> upgraded these too:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>...
==&gt; Upgrading shfmt 2.6.4 -&gt; 3.3.0
...
==&gt; Upgrading 14 dependents:
cython 0.29.21 -&gt; 0.29.23, gnutls 3.6.15 -&gt; 3.6.16, httpie 2.2.0_1 -&gt; 2.4.0, ipython 7.18.1 -&gt; 7.24.0, krb5 1.18.2 -&gt; 1.19.1, libxml2 2.9.10_1 -&gt; 2.9.12, libxmlsec1 1.2.30 -&gt; 1.2.32, mysql-client 8.0.21 -&gt; 8.0.25, mysql-connector-c++ 8.0.21 -&gt; 8.0.25, pyenv 1.2.21 -&gt; 2.0.0, python@3.8 3.8.6 -&gt; 3.8.10, python@3.9 3.9.0 -&gt; 3.9.5, sphinx-doc 3.2.1_1 -&gt; 4.0.
...
</code></pre></div></div>

<h3 id="upgrade-all-packages">Upgrade all packages</h3>

<p>Update outdated packages. WARNING Use this with caution - it can break Python virtual environments for example.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>brew upgrade <span class="nt">--dry-run</span>

<span class="nv">$ </span>brew upgrade
</code></pre></div></div>

<p>Here is a shortcut I found - from <a href="https://medium.com/@kkostov/how-to-install-node-and-npm-on-macos-using-homebrew-708e2c3877bd">article</a>.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">alias </span><span class="nv">brewery</span><span class="o">=</span><span class="s1">'brew update &amp;&amp; brew upgrade &amp;&amp; brew cleanup'</span>
</code></pre></div></div>

<h3 id="help">Help</h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>brew upgrade <span class="nt">--help</span>
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Upgrade outdated, unpinned formulae using the same options they were originally
installed with, plus any appended brew formula options. If formula are
specified, upgrade only the given formula kegs (unless they are pinned; see
pin, unpin).

Unless HOMEBREW_NO_INSTALL_CLEANUP is set, brew cleanup will then be run for
the upgraded formulae or, every 30 days, for all formulae.
</code></pre></div></div>

<h2 id="remove">Remove</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>brew uninstall PACKAGE
</code></pre></div></div>

<h2 id="taps">Taps</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>brew tap &lt;TAP_NAME&gt;/taps
<span class="nv">$ </span>brew <span class="nb">install</span> &lt;TAP_NAME&gt;
</code></pre></div></div>

<p>e.g.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>brew tap isacikgoz/taps
<span class="nv">$ </span>brew <span class="nb">install </span>gitbatch
</code></pre></div></div>

<h2 id="links">Links</h2>

<p>You can run <code class="language-plaintext highlighter-rouge">brew link</code> directly but it also runs as part of install or upgrade.</p>

<p>If a symlink cannot be created, you will get an error message with instructions, added here as well for convenience.</p>

<p>To force the link and overwrite all conflicting files:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew <span class="nb">link</span> <span class="nt">--overwrite</span> PACKAGE
</code></pre></div></div>

<p>To list all files that would be deleted:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>brew <span class="nb">link</span> <span class="nt">--overwrite</span> <span class="nt">--dry-run</span> PACKAGE
</code></pre></div></div>

<p>Sample of a full message:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>==&gt; Pouring six--1.16.0_2.all.bottle.1.tar.gz
Error: The `brew link` step did not complete successfully
The formula built, but is not symlinked into /usr/local
Could not symlink lib/python3.9/site-packages/six.py
Target /usr/local/lib/python3.9/site-packages/six.py
already exists. You may want to remove it:
  rm '/usr/local/lib/python3.9/site-packages/six.py'

To force the link and overwrite all conflicting files:
  brew link --overwrite six

To list all files that would be deleted:
  brew link --overwrite --dry-run six

Possible conflicting files are:
/usr/local/lib/python3.9/site-packages/six.py
</code></pre></div></div>

<h2 id="services">Services</h2>

<p>Set up a service to start now and then start up whenever you boot the machine. This uses <code class="language-plaintext highlighter-rouge">launchd</code>.</p>

<h3 id="example">Example</h3>

<p>Sample instructions given when installing <code class="language-plaintext highlighter-rouge">dnsmasq</code>.</p>

<p>To have <code class="language-plaintext highlighter-rouge">launchd</code> start <code class="language-plaintext highlighter-rouge">dnsmasq</code> now and restart at startup:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>brew services start dnsmasq
</code></pre></div></div>

        
    </div>
</article>

        </div>
    </main>
<footer class="site-footer h-card">
    <data class="u-url" href="/dev-cheatsheets/"></data>

    <div class="wrapper">

        <h2 class="footer-heading">Dev Cheatsheets</h2>

        <div class="footer-col-wrapper">
            <div class="footer-col footer-col-1">
                <ul class="contact-list"><li class="p-name">
                            Michael Currin
                        </li></ul>
            </div>

            <div class="footer-col footer-col-2">
<ul class="social-media-list"><li>
            <a href="https://github.com/MichaelCurrin"><svg class="svg-icon">
                    <use xlink:href="/dev-cheatsheets/assets/fractal-social-icons.svg#github"></use>
                </svg> <span class="username">MichaelCurrin</span></a>
        </li></ul>
</div>

            <div class="footer-col footer-col-3">
                <p>A collection of code snippets and CLI guides for quick and easy reference while coding</p>
            </div>
        </div>

    </div>

</footer>
<a href="https://github.com/MichaelCurrin/dev-cheatsheets"
    class="github-corner" aria-label="View source on GitHub">
    <svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
    </svg>
</a>
<style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

</body>

</html>
