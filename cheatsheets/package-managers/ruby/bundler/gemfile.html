<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Gemfile | Dev Cheatsheets</title>
<meta name="generator" content="Jekyll v4.2.1" />
<meta property="og:title" content="Gemfile" />
<meta name="author" content="Michael Currin" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A collection of code snippets and CLI guides for quick and easy reference while coding" />
<meta property="og:description" content="A collection of code snippets and CLI guides for quick and easy reference while coding" />
<link rel="canonical" href="https://michaelcurrin.github.io/dev-cheatsheets/cheatsheets/package-managers/ruby/bundler/gemfile.html" />
<meta property="og:url" content="https://michaelcurrin.github.io/dev-cheatsheets/cheatsheets/package-managers/ruby/bundler/gemfile.html" />
<meta property="og:site_name" content="Dev Cheatsheets" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Gemfile" />
<script type="application/ld+json">
{"headline":"Gemfile","description":"A collection of code snippets and CLI guides for quick and easy reference while coding","url":"https://michaelcurrin.github.io/dev-cheatsheets/cheatsheets/package-managers/ruby/bundler/gemfile.html","author":{"@type":"Person","name":"Michael Currin"},"@type":"WebPage","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/dev-cheatsheets/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://michaelcurrin.github.io/dev-cheatsheets/feed.xml" title="Dev Cheatsheets" /><script async src="https://www.googletagmanager.com/gtag/js?id=UA-87705880-12"></script>
    <script>
        window['ga-disable-UA-87705880-12'] = window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1";
        window.dataLayer = window.dataLayer || [];

        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-87705880-12');
    </script></head>
<body>
<header class="site-header" role="banner">

    <div class="wrapper"><a class="site-title" rel="author" href="/dev-cheatsheets/">
            Dev Cheatsheets
        </a><nav class="site-nav">
                <input type="checkbox" id="nav-trigger" class="nav-trigger" />

                <label for="nav-trigger">
                    <span class="menu-icon">
                        <svg viewBox="0 0 18 15" width="18px" height="15px">
                            <path
                                d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z" />
                        </svg>
                    </span>
                </label>

                <div class="trigger"><a class="page-link" href="/dev-cheatsheets/">
                                Home
                            </a><a class="page-link" href="/dev-cheatsheets/cheatsheets/">
                                Cheatsheets
                            </a><a class="page-link" href="/dev-cheatsheets/about.html">
                                About
                            </a></div>
            </nav></div>
</header>
<main class="page-content" aria-label="Content">
        <div class="wrapper">
            <a id="github-edit" href="https://github.com/MichaelCurrin/dev-cheatsheets/edit/master/cheatsheets/package-managers/ruby/bundler/gemfile.md">
    üìù <span>Edit page</span>
</a>

            <a id="github-add" href="https://github.com/MichaelCurrin/dev-cheatsheets/new/master/cheatsheets/package-managers/ruby/bundler/">
    ‚ûï <span>Add page</span>
</a>


            

<article class="post">
    <header class="post-header">
        <h1 class="post-title">
            


            <span>Gemfile</span>
        </h1>

        
    </header>

    


    <div id="breadcrumbs">

    
        

        
            
            <a href="/dev-cheatsheets/cheatsheets/">
    Cheatsheets
</a>

        
     
        
            /
        

        
            
            <a href="/dev-cheatsheets/cheatsheets/package-managers/">
    Package managers
</a>

        
     
        
            /
        

        
            
            <a href="/dev-cheatsheets/cheatsheets/package-managers/ruby/">
    Ruby
</a>

        
     
        
            /
        

        
            
            <a href="/dev-cheatsheets/cheatsheets/package-managers/ruby/bundler/">
    Bundler
</a>

        
     
        
            /
        

        
            <a href="/dev-cheatsheets/cheatsheets/package-managers/ruby/bundler/gemfile.html" class="underline">
                Gemfile
            </a>
        
     
    </div>



    <br>

    <div class="post-content">
        
            <p>See also:</p>

<ul>
  <li><a href="https://bundler.io/gemfile.html">Gemfile</a> in Bundler docs.</li>
  <li><a href="/dev-cheatsheets/cheatsheets/ruby/gems/">gems</a> cheatsheet in the Ruby section</li>
</ul>

<h2 id="install-with-bundler">Install with Bundler</h2>

<p>Once you have you Gemfile set up based on sections below, use this to install gems:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>bundle config <span class="nb">set</span> <span class="nt">--local</span> path vendor/bundle
<span class="nv">$ </span>bundle <span class="nb">install</span>
</code></pre></div></div>

<h2 id="install-gem-from-location">Install gem from location</h2>

<p>Always start by setting <code class="language-plaintext highlighter-rouge">source</code> at the top as below.</p>

<p>Set up your <code class="language-plaintext highlighter-rouge">Gemfile</code> and run this to install with Bundler.</p>

<h3 id="install-from-rubygems">Install from RubyGems</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Gemfile</code>
    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">source</span> <span class="s2">"https://rubygems.org"</span>

  <span class="n">gem</span> <span class="s2">"foo"</span>

  <span class="n">gem</span> <span class="s2">"bar"</span><span class="p">,</span> <span class="s2">"~&gt; 2.5"</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="install-from-github">Install from GitHub</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Gemfile</code>
    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">source</span> <span class="s2">"https://rubygems.org"</span>

  <span class="n">gem</span> <span class="s2">"bar"</span><span class="p">,</span> <span class="ss">git: </span><span class="s2">"https://github.com/foo/bar"</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="install-from-local-path">Install from local path</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Gemfile</code>
    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">source</span> <span class="s1">'https://rubygems.org'</span>

  <span class="n">gem</span> <span class="s1">'foo'</span><span class="p">,</span> <span class="ss">:path</span> <span class="o">=&gt;</span> <span class="s1">'./vendor/foo'</span>
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="groups">Groups</h2>

<p>See the <a href="/dev-cheatsheets/cheatsheets/package-managers/ruby/bundler/groups.html">Groups</a> cheatsheet.</p>

<h2 id="example">Example</h2>

<h3 id="mixed">Mixed</h3>

<p>Using a mix of RubyGems and GitHub, group and ungrouped, and different locking levels.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">source</span> <span class="s2">"https://rubygems.org"</span>

<span class="n">gem</span> <span class="s2">"jekyll"</span><span class="p">,</span> <span class="s2">"~&gt; 4.1"</span>

<span class="n">gem</span> <span class="s2">"minima"</span><span class="p">,</span> <span class="s2">"~&gt; 2.5.1"</span>

<span class="n">group</span> <span class="ss">:jekyll_plugins</span> <span class="k">do</span>
  <span class="n">gem</span> <span class="s2">"jekyll-sitemap"</span><span class="p">,</span> <span class="s2">"~&gt; 1.4"</span>
  <span class="n">gem</span> <span class="s2">"jekyll-resize"</span><span class="p">,</span> <span class="ss">git: </span><span class="s2">"https://github.com/MichaelCurrin/jekyll-resize"</span>
<span class="k">end</span>
</code></pre></div></div>

<h2 id="locking-gems">Locking gems</h2>

<h3 id="why-lock-dependency-versions">Why lock dependency versions?</h3>

<p>I would highly recommend <strong>against</strong> always pointing against the absolute <strong>latest</strong> version of a gem, especially a theme.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">gem</span> <span class="s2">"minima"</span>
</code></pre></div></div>

<p>Files can move around or be renamed and a layout might disappear, so if you auto-deploy your site with the latest version of the theme (especially untagged, on master), then your site deploy might break or the deploy could work might the site will appear broken.</p>

<p>So rather lock like one of these:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Float major version.</span>
<span class="n">gem</span> <span class="s2">"minima"</span><span class="p">,</span> <span class="s2">"~&gt; 2.5"</span>

<span class="c1"># Strict exact match.</span>
<span class="n">gem</span> <span class="s2">"minima"</span><span class="p">,</span> <span class="s2">"2.5.1"</span>
</code></pre></div></div>

<p>I like the approach as above of locking to a compatible version <code class="language-plaintext highlighter-rouge">~&gt; 2.5.1</code> to get bug fixes, as <code class="language-plaintext highlighter-rouge">2.5.1</code>, <code class="language-plaintext highlighter-rouge">2.5.2</code>, etc. but without possible breaking changes allowed like at <code class="language-plaintext highlighter-rouge">2.6</code>.</p>

<p>If you are more risk-tolerant, you can do <code class="language-plaintext highlighter-rouge">~&gt; 2.5</code> which means that it will be <code class="language-plaintext highlighter-rouge">2.5.X</code> or <code class="language-plaintext highlighter-rouge">2.6.X</code> or <code class="language-plaintext highlighter-rouge">2.7.X</code> etc. but <em>not</em> <code class="language-plaintext highlighter-rouge">3.X</code>.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Float minor verson.</span>
<span class="n">gem</span> <span class="s2">"minima"</span><span class="p">,</span> <span class="s2">"~&gt; 2.5.1"</span>
</code></pre></div></div>

<h3 id="why-use-a-lockfile">Why use a lockfile?</h3>

<p>I also like using a <code class="language-plaintext highlighter-rouge">Gemfile.lock</code> approach, when not using the standard GitHub Pages environment.</p>

<p>I might lock at <code class="language-plaintext highlighter-rouge">~&gt; 2.5</code> to let the major version float to 2.6, 2.7 etc. But because I <em>have</em> a <code class="language-plaintext highlighter-rouge">Gemfile.lock</code> file, it will be locked at say 2.6.2 unless I specifically upgrade it.</p>

<p>Locally, you could either of these:</p>

<ul>
  <li><strong>Delete</strong> the <code class="language-plaintext highlighter-rouge">Gemfile.lock</code> (if you have one), run <code class="language-plaintext highlighter-rouge">bundle install</code>, and then commit the <code class="language-plaintext highlighter-rouge">Gemfile</code>.</li>
  <li>Keep the existing <code class="language-plaintext highlighter-rouge">Gemfile.lock</code> and then <strong>upgrade</strong> with <code class="language-plaintext highlighter-rouge">bundle update</code>.</li>
</ul>

<p>And then commit the <code class="language-plaintext highlighter-rouge">Gemfile.lock</code>.</p>

<p>That will get you the <strong>latest</strong> versions of <em>all</em> gems and subdependencies in <code class="language-plaintext highlighter-rouge">vendor</code>. But still <strong>within</strong> the bounds of your Gemfile restrictions. And the installed gems are reflected in <code class="language-plaintext highlighter-rouge">Gemfile.lock</code>. So you can deploy with confidence that the if the locked gems work locally, they‚Äôll be installed <em>exactly</em> the same on the remote and will work there too.</p>

<p>Using the approach of <code class="language-plaintext highlighter-rouge">~&gt; 2.5</code> means you, you can easily upgrade anytime with one command. Without having to check what the next version is of a gem out and incrementing a number in your Gemfile from <code class="language-plaintext highlighter-rouge">2.5.1</code> to <code class="language-plaintext highlighter-rouge">2.6.0</code>. And without having to do that for each gem one at a time.</p>

        
    </div>
</article>

        </div>
    </main>
<footer class="site-footer h-card">
    <data class="u-url" href="/dev-cheatsheets/"></data>

    <div class="wrapper">

        <h2 class="footer-heading">Dev Cheatsheets</h2>

        <div class="footer-col-wrapper">
            <div class="footer-col footer-col-1">
                <ul class="contact-list"><li class="p-name">
                            Michael Currin
                        </li></ul>
            </div>

            <div class="footer-col footer-col-2">
<ul class="social-media-list"><li>
            <a href="https://github.com/MichaelCurrin"><svg class="svg-icon">
                    <use xlink:href="/dev-cheatsheets/assets/fractal-social-icons.svg#github"></use>
                </svg> <span class="username">MichaelCurrin</span></a>
        </li></ul>
</div>

            <div class="footer-col footer-col-3">
                <p>A collection of code snippets and CLI guides for quick and easy reference while coding</p>
            </div>
        </div>

    </div>

</footer>
<a href="https://github.com/MichaelCurrin/dev-cheatsheets"
    class="github-corner" aria-label="View source on GitHub">
    <svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
    </svg>
</a>
<style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

</body>

</html>
