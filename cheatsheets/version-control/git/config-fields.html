<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">



    <meta property="og:site_name" content="Dev Cheatsheets" />

    <title>Config files | Dev Cheatsheets</title>

    <meta property="og:title" content="Config files" />

    <meta name="twitter:card" content="summary" />
    <meta property="twitter:title" content="Config files" />
<meta name="generator" content="Jekyll v4.3.3" />

<meta property="og:locale" content="en_US" />


    <meta name="description" content="A collection of code snippets and CLI guides for quick and easy reference while coding" />
    <meta property="og:description" content="A collection of code snippets and CLI guides for quick and easy reference while coding" />
<meta name="author" content="Michael Currin" />



<link rel="canonical" href="https://michaelcurrin.github.io/dev-cheatsheets/cheatsheets/version-control/git/config-fields.html" />
<meta property="og:url" content="https://michaelcurrin.github.io/dev-cheatsheets/cheatsheets/version-control/git/config-fields.html" />


<script type="application/ld+json">
{
    "name":        "Dev Cheatsheets",
    "description": "A collection of code snippets and CLI guides for quick and easy reference while coding",
    "url":         "https://michaelcurrin.github.io/dev-cheatsheets/cheatsheets/version-control/git/config-fields.html",
    "headline":    "Config files",
    "@type":       "WebSite",
    "@context":    "https://schema.org",
    "author": {
        "@type":"Person",
        "name": "Michael Currin"
    }
}
</script>
<link rel="stylesheet" href="/dev-cheatsheets/dev-cheatsheets/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://michaelcurrin.github.io/dev-cheatsheets/feed.xml" title="Dev Cheatsheets" /><script async src="https://www.googletagmanager.com/gtag/js?id=UA-87705880-12"></script>
    <script>
        window['ga-disable-UA-87705880-12'] = window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1";
        window.dataLayer = window.dataLayer || [];

        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-87705880-12');
    </script></head>
<body>
<header class="site-header" role="banner">

    <div class="wrapper"><a class="site-title" rel="author" href="/dev-cheatsheets/">
            Dev Cheatsheets
        </a><nav class="site-nav">
            <input type="checkbox" id="nav-trigger" class="nav-trigger" />

            <label for="nav-trigger">
                <span class="menu-icon">
                    <svg viewBox="0 0 18 15" width="18px" height="15px">
                        <path
                            d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z" />
                    </svg>
                </span>
            </label>

            <div class="trigger"><a class="page-link" href="/dev-cheatsheets/">
                    Home
                </a><a class="page-link" href="/dev-cheatsheets/cheatsheets/">
                    Cheatsheets
                </a><a class="page-link" href="/dev-cheatsheets/about.html">
                    About
                </a><a class="ext-link page-link" href="https://michaelcurrin.github.io/code-cookbook/">
                    <span>Code Cookbook</span>
                    <img src="/dev-cheatsheets/assets/ext-link.svg" />
                </a><a class="ext-link page-link" href="https://michaelcurrin.github.io/dev-resources/">
                    <span>Dev Resources</span>
                    <img src="/dev-cheatsheets/assets/ext-link.svg" />
                </a></div>
        </nav></div>
</header>
<main class="page-content" aria-label="Content">
        <div class="wrapper">
            <a id="github-edit" href="https://github.com/MichaelCurrin/dev-cheatsheets/edit/master/cheatsheets/version-control/git/config-fields.md">
    üìù <span>Edit page</span>
</a>

            <a id="github-add" href="https://github.com/MichaelCurrin/dev-cheatsheets/new/master/cheatsheets/version-control/git/">
    ‚ûï <span>Add page</span>
</a>


            

<article class="post">
    <header class="post-header">
        <h1 class="post-title">
            


            <span>Config files</span>
        </h1>

        
    </header>

    


    <div id="breadcrumbs">

    
        

        
            
            <a href="/dev-cheatsheets/cheatsheets/">
    Cheatsheets
</a>

        
     
        
            /
        

        
            
            <a href="/dev-cheatsheets/cheatsheets/version-control/">
    Version control
</a>

        
     
        
            /
        

        
            
            <a href="/dev-cheatsheets/cheatsheets/version-control/git/">
    Git
</a>

        
     
        
            /
        

        
            <a href="/dev-cheatsheets/cheatsheets/version-control/git/config-fields.html" class="underline">
                Config files
            </a>
        
     
    </div>



    <br>

    <div class="post-content">
        
            <p>See also:</p>

<ul>
  <li><a href="https://github.com/MichaelCurrin/dotfiles/blob/master/.gitconfig.toml">Git config</a> in my dotfiles repo.</li>
  <li><a href="https://git-scm.com/book/en/v2/Customizing-Git-Git-Configuration">Git configuration</a> in the Git docs.</li>
</ul>

<h2 id="commit-message-editor">Commit message editor</h2>

<p>If you prefer to use another editor rather than <code class="language-plaintext highlighter-rouge">vim</code> (default on macOS and Linux) when doing <code class="language-plaintext highlighter-rouge">git commit</code>.</p>

<p>More info - see <a href="https://git-scm.com/book/en/v2/Appendix-C:-Git-Commands-Setup-and-Config">Git Commands - setup and config</a> in the Git docs.</p>

<h3 id="nano">Nano</h3>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">[</span><span class="nv">core</span><span class="pi">]</span>
<span class="err">	</span><span class="s">editor = "nano -w"</span>
</code></pre></div></div>

<p>Or</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git config <span class="nt">--global</span> core.editor <span class="s2">"nano -w"</span>
</code></pre></div></div>

<h3 id="vs-code">VS Code</h3>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">[</span><span class="nv">core</span><span class="pi">]</span>
<span class="err">	</span><span class="s">editor = "code --wait"</span>
</code></pre></div></div>

<p>Or</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git config <span class="nt">--global</span> core.editor <span class="s2">"code --wait"</span>
</code></pre></div></div>

<h2 id="diff-tool">Diff tool</h2>

<p>Git uses <code class="language-plaintext highlighter-rouge">vimdiff</code> by default.</p>

<p>Usage:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git difftool
<span class="nv">$ </span><span class="c"># OR</span>
<span class="nv">$ </span>git difftool COMMIT_REF^ COMMIT_REF
</code></pre></div></div>

<p>Help:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git difftool <span class="nt">--tool-help</span>
</code></pre></div></div>

<p>Set up VS Code as your diff tool based on <a href="https://stackoverflow.com/questions/30024353/how-to-use-visual-studio-code-as-default-editor-for-git#36644561">SO</a>:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">[</span><span class="nv">diff</span><span class="pi">]</span>
    <span class="s">tool = default-difftool</span>
    
<span class="pi">[</span><span class="nv">difftool "default-difftool"</span><span class="pi">]</span>
    <span class="s">cmd = code --wait --diff $LOCAL $REMOTE</span>
</code></pre></div></div>

<h2 id="aliases">Aliases</h2>

<ul>
  <li><a href="/dev-cheatsheets/cheatsheets/version-control/git/aliases.html">Git aliases</a> cheatsheet.</li>
</ul>

<h2 id="commit-template">Commit template</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git config <span class="nt">--global</span> commit.template _COMMIT_MESSAGE
</code></pre></div></div>

<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[commit]</span>
        <span class="py">template</span> <span class="p">=</span> <span class="s">"_COMMIT_MESSAGE"</span>
</code></pre></div></div>

<p>Make sure you have <code class="language-plaintext highlighter-rouge">_COMMIT_MESSAGE</code> as a text file in your repo. I also recommend making a global ignore file that ignores <code class="language-plaintext highlighter-rouge">_COMMIT_MESSAGE</code> and have your git config aware of that <code class="language-plaintext highlighter-rouge">~/.gitignore</code> file.</p>

<p>See my <a href="https://github.com/MichaelCurrin/learn-to-code/blob/master/en/topics/version_control/Git/configure/commit_message_template.md">Tutorial</a> on this for more details steps.</p>

<h2 id="default-branch">Default branch</h2>

<p>Git still uses <code class="language-plaintext highlighter-rouge">master</code> as the default, while GitHub uses <code class="language-plaintext highlighter-rouge">main</code>.</p>

<p>Set this up so <code class="language-plaintext highlighter-rouge">git init</code> for a new repo will start you out with <code class="language-plaintext highlighter-rouge">main</code>.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git config <span class="nt">--global</span> init.defaultBranch main
</code></pre></div></div>

<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[init]</span>
	<span class="py">defaultBranch</span> <span class="p">=</span> <span class="s">"main"</span>
</code></pre></div></div>

<h2 id="configure-merge-strategy-for-pull">Configure merge strategy for pull</h2>

<h3 id="about">About</h3>

<p>In some situations, you do want a merge commit such as pulling a feature branch into master (if you want to do this on the CLI for some reason rather than PR  Merge button). And sometimes you don‚Äôt want a commit and you just want to rebase the current branch on the remote or on the remote master. The sections below help with these.</p>

<h3 id="defaults">Defaults</h3>

<p>The <code class="language-plaintext highlighter-rouge">git pull</code> default behavior is with <code class="language-plaintext highlighter-rouge">--ff</code>.</p>

<p>You can set <code class="language-plaintext highlighter-rouge">--no-ff</code> or <code class="language-plaintext highlighter-rouge">--ff-only</code> using flags to config options.</p>

<h3 id="warning">Warning</h3>

<p>If your pull strategy is not configured, newer versions of <code class="language-plaintext highlighter-rouge">git</code> will now give this warning running <code class="language-plaintext highlighter-rouge">git pull</code>:</p>

<details>
<summary>Warning message</summary>

    warning: Pulling without specifying how to reconcile divergent branches is
    discouraged. You can squelch this message by running one of the following
    commands sometime before your next pull:

        git config pull.rebase false  # merge (the default strategy)
        git config pull.rebase true   # rebase
        git config pull.ff only       # fast-forward only

    You can replace "git config" with "git config --global" to set a default
    preference for all repositories. You can also pass --rebase, --no-rebase,
    or --ff-only on the command line to override the configured default per
    invocation.

</details>

<p>So here are your options for <code class="language-plaintext highlighter-rouge">.gitconfig</code> under <code class="language-plaintext highlighter-rouge">[pull]</code> heading.</p>

<p>Note lack of quotes on <code class="language-plaintext highlighter-rouge">true</code> and <code class="language-plaintext highlighter-rouge">false</code>.</p>

<h3 id="merge-approach">Merge approach</h3>

<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[pull]</span>
    <span class="py">rebase</span> <span class="p">=</span> <span class="kc">false</span>
</code></pre></div></div>

<p>This is the default behavior that we are used to, but now configure explicitly as a strategy in the config.</p>

<p>Running <code class="language-plaintext highlighter-rouge">git pull</code> will create a <strong>merge commit</strong> if there are remote upstream changes. This commit probably not desirable when working on a feature branch.</p>

<p>So you could set this option explicitly in your config to get the warning to disappear - and then use <code class="language-plaintext highlighter-rouge">git pull --rebase</code> manually when you do want to rebase.</p>

<h3 id="rebase-approach">Rebase approach</h3>

<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[pull]</span>
    <span class="py">rebase</span> <span class="p">=</span> <span class="kc">true</span>
</code></pre></div></div>

<p>This means that <code class="language-plaintext highlighter-rouge">git pull</code> effectively does this:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git pull <span class="nt">--rebase</span>
</code></pre></div></div>

<p>This is probably what you want and generally safe to do often. You rebase local unpushed changed, pulling in the remote changes.</p>

<p>The <strong>problem</strong> is that when setting the config as above, the pull will fail if there are any uncommitted changes. This can be annoying when you know you have nothing to rebase and just want to do a plain <code class="language-plaintext highlighter-rouge">git pull</code>.</p>

<h3 id="fast-forward-approach">Fast-forward approach</h3>

<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[pull]</span>
    <span class="py">ff</span> <span class="p">=</span> <span class="s">"only"</span>
</code></pre></div></div>

<p>This approach will attempt to do a <code class="language-plaintext highlighter-rouge">git pull</code> to get the branch up to date with the remote and fast-forward if possible. Equivalent to:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git pull <span class="nt">--ff-only</span>
<span class="c"># ...</span>
fatal: Not possible to fast-forward, aborting.
</code></pre></div></div>

<p>If there are remote changes, if will <strong>fail</strong>.</p>

<p>Then you can run this to deliberately choose a rebase.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git pull <span class="nt">--rebase</span>
</code></pre></div></div>

<p>If you <strong>do</strong> want a merge commit, could run this after.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git merge
</code></pre></div></div>

<p>As you‚Äôve already done the <code class="language-plaintext highlighter-rouge">git fetch</code> with the pull. So now this will merge <code class="language-plaintext highlighter-rouge">origin/master</code> into <code class="language-plaintext highlighter-rouge">master</code>, or the equivalent pair for the branch you‚Äôre on.</p>

<p>Generated message:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Merge remote-tracking branch 'refs/remotes/origin/master' into master
</code></pre></div></div>

<p>However, you may want to be more explict with your merge. Such as if you do <code class="language-plaintext highlighter-rouge">git pull origin my-feature</code> then <code class="language-plaintext highlighter-rouge">git merge</code> probably needs to be <code class="language-plaintext highlighter-rouge">git merge origin/my-feature</code>.</p>

<p>Alternatively, you can do this to pull and merge in one move, avoiding the error. Maybe as an alias.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git pull origin my-feature <span class="o">&amp;&amp;</span> git merge origin/my-feature
</code></pre></div></div>

        
    </div>
</article>

        </div>
    </main>
<footer class="site-footer h-card">
    <data class="u-url" href="/dev-cheatsheets/"></data>

    <div class="wrapper">

        <h2 class="footer-heading">Dev Cheatsheets</h2>

        <div class="footer-col-wrapper">
            <div class="footer-col footer-col-1">
                <ul class="contact-list"><li class="p-name">
                            Michael Currin
                        </li></ul>
            </div>

            <div class="footer-col footer-col-2">
<ul class="social-media-list"><li>
        <a href="https://github.com/MichaelCurrin"><svg
                class="svg-icon">
                <use xlink:href="/dev-cheatsheets/assets/fractal-social-icons.svg#github">
                </use>
            </svg> <span class="username">MichaelCurrin</span></a>
    </li></ul>
</div>

            <div class="footer-col footer-col-3">
                <p>A collection of code snippets and CLI guides for quick and easy reference while coding</p>
            </div>
        </div>

    </div>

</footer>
<a href="https://github.com/MichaelCurrin/dev-cheatsheets"
    class="github-corner" aria-label="View source on GitHub">
    <svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
    </svg>
</a>
<style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

</body>

</html>
