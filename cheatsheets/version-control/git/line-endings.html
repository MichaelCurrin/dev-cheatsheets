<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">



    <meta property="og:site_name" content="Dev Cheatsheets" />

    <title>Line endings | Dev Cheatsheets</title>

    <meta property="og:title" content="Line endings" />

    <meta name="twitter:card" content="summary" />
    <meta property="twitter:title" content="Line endings" />
<meta name="generator" content="Jekyll v4.4.1" />

<meta property="og:locale" content="en_US" />


    <meta name="description" content="How to configure line endings for your repo and to get them consistent" />
    <meta property="og:description" content="How to configure line endings for your repo and to get them consistent" />
<meta name="author" content="Michael Currin" />



<link rel="canonical" href="https://michaelcurrin.github.io/dev-cheatsheets/cheatsheets/version-control/git/line-endings.html" />
<meta property="og:url" content="https://michaelcurrin.github.io/dev-cheatsheets/cheatsheets/version-control/git/line-endings.html" />


<script type="application/ld+json">
{
    "name":        "Dev Cheatsheets",
    "description": "How to configure line endings for your repo and to get them consistent",
    "url":         "https://michaelcurrin.github.io/dev-cheatsheets/cheatsheets/version-control/git/line-endings.html",
    "headline":    "Line endings",
    "@type":       "WebSite",
    "@context":    "https://schema.org",
    "author": {
        "@type":"Person",
        "name": "Michael Currin"
    }
}
</script>
<link rel="stylesheet" href="/dev-cheatsheets/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://michaelcurrin.github.io/dev-cheatsheets/feed.xml" title="Dev Cheatsheets" /><script async src="https://www.googletagmanager.com/gtag/js?id=UA-87705880-12"></script>
    <script>
        window['ga-disable-UA-87705880-12'] = window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1";
        window.dataLayer = window.dataLayer || [];

        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-87705880-12');
    </script></head>
<body>
<header class="site-header" role="banner">

    <div class="wrapper"><a class="site-title" rel="author" href="/dev-cheatsheets/">
            Dev Cheatsheets
        </a><nav class="site-nav">
            <input type="checkbox" id="nav-trigger" class="nav-trigger" />

            <label for="nav-trigger">
                <span class="menu-icon">
                    <svg viewBox="0 0 18 15" width="18px" height="15px">
                        <path
                            d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z" />
                    </svg>
                </span>
            </label>

            <div class="trigger"><a class="page-link" href="/dev-cheatsheets/">
                    Home
                </a><a class="page-link" href="/dev-cheatsheets/cheatsheets/">
                    Cheatsheets
                </a><a class="page-link" href="/dev-cheatsheets/about.html">
                    About
                </a><a class="ext-link page-link" href="https://michaelcurrin.github.io/code-cookbook/">
                    <span>Code Cookbook</span>
                    <img src="/dev-cheatsheets/assets/ext-link.svg" />
                </a><a class="ext-link page-link" href="https://michaelcurrin.github.io/dev-resources/">
                    <span>Dev Resources</span>
                    <img src="/dev-cheatsheets/assets/ext-link.svg" />
                </a></div>
        </nav></div>
</header>
<main class="page-content" aria-label="Content">
        <div class="wrapper">
            <a id="github-edit" href="https://github.com/MichaelCurrin/dev-cheatsheets/edit/master/cheatsheets/version-control/git/line-endings.md">
    üìù <span>Edit page</span>
</a>

            <a id="github-add" href="https://github.com/MichaelCurrin/dev-cheatsheets/new/master/cheatsheets/version-control/git/">
    ‚ûï <span>Add page</span>
</a>


            

<article class="post">
    <header class="post-header">
        <h1 class="post-title">
            


            <span>Line endings</span>
        </h1>

        
            <blockquote>
                <p>How to configure line endings for your repo and to get them consistent</p>

            </blockquote>
        
    </header>

    


    <div id="breadcrumbs">

    
        

        
            
            <a href="/dev-cheatsheets/cheatsheets/">
    Cheatsheets
</a>

        
     
        
            /
        

        
            
            <a href="/dev-cheatsheets/cheatsheets/version-control/">
    Version control
</a>

        
     
        
            /
        

        
            
            <a href="/dev-cheatsheets/cheatsheets/version-control/git/">
    Git
</a>

        
     
        
            /
        

        
            <a href="/dev-cheatsheets/cheatsheets/version-control/git/line-endings.html" class="underline">
                Line endings
            </a>
        
     
    </div>



    <br>

    <div class="post-content">
        
            <p>If you or your team are working on multiple operating systems, this can cause issues. Such as warnings from Git, and files appearing modified even though they look the same aside from whitespace.</p>

<p>See also this article - <a href="https://www.aleksandrhovhannisyan.com/blog/crlf-vs-lf-normalizing-line-endings-in-git/">CRLF vs. LF: Normalizing Line Endings in Git</a></p>

<h2 id="line-endings">Line endings</h2>

<p>You can edit files and commit then using one of the following line endings:</p>

<table>
  <thead>
    <tr>
      <th>OS</th>
      <th>Abbreviation</th>
      <th>Full name</th>
      <th>Character</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Unix-style</td>
      <td>LF</td>
      <td>‚Äúline feed‚Äù</td>
      <td><code class="language-plaintext highlighter-rouge">\n</code></td>
    </tr>
    <tr>
      <td>Windows style</td>
      <td>CRLF</td>
      <td>‚Äúcarriage return and line feed‚Äù</td>
      <td><code class="language-plaintext highlighter-rouge">\r\n</code></td>
    </tr>
  </tbody>
</table>

<p>You might also see ‚ÄúCR‚Äù or carriage return as the old style Windows line ending, but this is not an option in Git.</p>

<h2 id="vertify-ling-endings">Vertify ling endings</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git ls-files <span class="nt">--eol</span>
</code></pre></div></div>
<p>e.g.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>i/lf    w/lf    attr/text=auto          .editorconfig
i/lf    w/lf    attr/text=auto          .gitignore
i/lf    w/lf    attr/text=auto          README.md
...
</code></pre></div></div>

<p>You can also pass a path to that.w</p>

<h2 id="how-to-fix-inconsisten-line-endings">How to fix inconsisten line endings</h2>

<p>You might get a message from <code class="language-plaintext highlighter-rouge">git status</code> like this: ‚ÄúLF will be replaced by CRLF‚Äù. And if you check your <code class="language-plaintext highlighter-rouge">git diff</code> you might see <code class="language-plaintext highlighter-rouge">^M</code> throughout the file at the end of each line.</p>

<p>To solve this, you can change how Git behaves (see next section). Or hange your IDE‚Äôs LF/CRLF setting.</p>

<p>Advice below is based on this <a href="https://stackoverflow.com/questions/10418975/how-to-change-line-ending-settings/40821931#40821931">StackOverflow thread</a>.</p>

<p>See <a href="https://git-scm.com/docs/git-config#Documentation/git-config.txt-coreautocrlf">core.autocrlf</a> in the Git docs for what the settings values mean.</p>

<h3 id="set-input-auto-crlf">Set input Auto-CRLF</h3>

<p>No input conversion is done.</p>

<p>I found this works for Linux and macOS.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git config <span class="nt">--global</span> core.autocrlf input
</code></pre></div></div>

<h3 id="set-auto-crlf-on-windows">Set Auto-CRLF on Windows</h3>

<p>This will make sure that when you checkout in Windows, all <code class="language-plaintext highlighter-rouge">LF</code> will be converted to <code class="language-plaintext highlighter-rouge">CRLF</code>.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git config <span class="nt">--global</span> core.autocrlf <span class="nb">true</span>
</code></pre></div></div>

<p>See more info on <a href="https://stackoverflow.com/questions/2825428/why-should-i-use-core-autocrlf-true-in-git">StackOverflow thread</a>.</p>

<blockquote>
  <p>The only specific reasons to set <code class="language-plaintext highlighter-rouge">autocrlf</code> to <code class="language-plaintext highlighter-rouge">true</code> are:</p>

  <ul>
    <li>avoid git status showing all your files as modified because of the automatic EOL conversion done when cloning a Unix-based EOL Git repo to a Windows one (see issue 83 for instance)</li>
    <li><em>and</em> your coding tools somehow depends on a native EOL style being present in your file</li>
  </ul>
</blockquote>

<h3 id="set-git-attributes">Set git attributes</h3>

<p><code class="language-plaintext highlighter-rouge">.gitattributes</code> file</p>

<blockquote>
  <p>It is a good idea to keep a <code class="language-plaintext highlighter-rouge">.gitattributes</code> file as we don‚Äôt want to expect everyone in our team to set their own config. This file should be placed in the repository root and if it exists, git will respect it.</p>
</blockquote>

<p>e.g.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>* text=auto
</code></pre></div></div>

<blockquote>
  <p>This will treat all files as text files and convert to OS‚Äôs line ending on checkout and back to <code class="language-plaintext highlighter-rouge">LF</code> on commit automatically.</p>
</blockquote>

<blockquote>
  <p>If you want to specify the line ending explicitly, you can use:</p>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>* text eol=crlf
* text eol=lf
</code></pre></div></div>

<p>If you still see on Windows that Git doesn‚Äôt change the files correctly, you can set this in <code class="language-plaintext highlighter-rouge">.editorconfig</code>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root = true

[*]
end_of_line = lf
</code></pre></div></div>

<h2 id="normalize-line-endings-in-all-files">Normalize line endings in all files</h2>

<p>After setting <code class="language-plaintext highlighter-rouge">core.autocrlf</code> in Git config or the <code class="language-plaintext highlighter-rouge">text</code> attribute in <code class="language-plaintext highlighter-rouge">.gitattributes</code>, set this.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git add <span class="nt">--renormalize</span> <span class="nb">.</span>
</code></pre></div></div>

<p>Based on <a href="https://stackoverflow.com/questions/7156694/git-how-to-renormalize-line-endings-in-all-files-in-all-revisions">StackOverflow thread</a> and <a href="https://www.aleksandrhovhannisyan.com/blog/crlf-vs-lf-normalizing-line-endings-in-git/">article</a>.</p>

<p>See <a href="https://git-scm.com/docs/git-add#Documentation/git-add.txt---renormalize">add ‚Äìrenormalize</a> in the Git docs.</p>

        
    </div>
</article>

        </div>
    </main>
<footer class="site-footer h-card">
    <data class="u-url" href="/dev-cheatsheets/"></data>

    <div class="wrapper">

        <h2 class="footer-heading">Dev Cheatsheets</h2>

        <div class="footer-col-wrapper">
            <div class="footer-col footer-col-1">
                <ul class="contact-list"><li class="p-name">
                            Michael Currin
                        </li></ul>
            </div>

            <div class="footer-col footer-col-2">
<ul class="social-media-list"><li>
        <a href="https://github.com/MichaelCurrin"><svg
                class="svg-icon">
                <use xlink:href="/dev-cheatsheets/assets/fractal-social-icons.svg#github">
                </use>
            </svg> <span class="username">MichaelCurrin</span></a>
    </li></ul>
</div>

            <div class="footer-col footer-col-3">
                <p>A collection of code snippets and CLI guides for quick and easy reference while coding</p>
            </div>
        </div>

    </div>

</footer>
<a href="https://github.com/MichaelCurrin/dev-cheatsheets"
    class="github-corner" aria-label="View source on GitHub">
    <svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
    </svg>
</a>
<style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

</body>

</html>
